@*@{
    var jobs = ViewBag.Jobs as List<ToolsApp.EntityFramework.Sp_LoadJobFromUserName_Result>;
    var data = ViewBag.data as ToolsApp.EntityFramework.ProfileUser;
    var user = ViewBag.user as ToolsApp.EntityFramework.AspNetUser;

}
<style>
    .container {
        max-width: 100%
    }
    .card-body .row {
        min-height:39px
    }
    .card-body h6 {
        font-weight:500
    }
    .gender-group {
        display:flex;
    }
    .info .edit{
        display:none;
    }
    .btn-edit {
       
    }
    .form-button {
        display: none
    }
    .button-group {
        display:flex;
        justify-content:end
    }
    .btn-cancel, .btn-save {
        display:none
    }
    .info .edit {
        display:none
    }
</style>
<input id="Id" value="@user.Id" style="display:none"/>
<div class="container">
    <div class="main-body">
        <div class="row">
            <div class="col-md-12">
                <div class="card mb-3">
                    <div class="card-body info">
                        <div class="row">
                            <div class="col-sm-11">
                                <h4 class="mb-4 ">Thông tin cơ bản</h4>
                            </div>
                            <div class="col-sm-1">
                                <button type="button" onclick="EditInfo()"   class="btn-shadow btn btn-info">
                                    <span class="btn-icon-wrapper pr-2 opacity-7">
                                        <i class="fa-solid fa-pen" style="color: #fefbfb;"></i>
                                    </span>
                                    Cập nhật
                                </button>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Tên đầy đủ</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@user.Fullname" class="form-control" disabled
                                               type="text" id="Fullname" name="Fullname">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @user.Fullname
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Ngày sinh</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.birtDate" class="form-control" type="date" id="birtDate" name="birtDate">
                                    </div>
                                    <div class="col-sm-1 text-secondary show">
                                        @data.birtDate
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Nơi sinh</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value=""@data.placeOfBirt class="form-control" type="text" id="placeOfBirt" name="placeOfBirt">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.placeOfBirt
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Nguyên quán</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.placeOfOrigin" class="form-control " type="text" id="placeOfOrigin" name="placeOfOrigin">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.placeOfOrigin
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Nơi ở hiện tại</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value=" @data.curResidence" class="form-control " type="text" id="curResidence" name="curResidence">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.curResidence
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Địa chỉ thường trú</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.resident" class="form-control " type="text" id="resident" name="resident">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.resident
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Địa chỉ tạm trú</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value=" @data.temResidence" class="form-control " type="text" id="temResidence" name="temResidence">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.temResidence

                                    </div>
                                </div>
                                <hr>

                            </div>
                            <div class="col-lg-6">
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Giới tính</h6>
                                    </div>
                                    <div class="col-sm-9 edit">

                                        <label>
                                            <input type="checkbox" name="gender" value="male" @if (data.gender == "male") { <text> checked</text> }> Nam
                                        </label>

                                        <label>
                                            <input type="checkbox" name="gender" style="margin-left:30px" value="female" @if (data.gender == "female") { <text> checked</text> }> Nữ
                                        </label>
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @{
                                            if (data.gender == "" || data.gender == null)
                                            {
                                                @("");
                                            }
                                            else if (data.gender == "male")
                                            {
                                                @("Nam");
                                            }
                                            else
                                            {
                                                @("Nữ");
                                            }
                                        }
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">MST cá nhân ( nếu có )</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.taxCode" class="form-control " type="text" id="taxCode" name="taxCode">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.taxCode
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Tình trạng hôn nhân</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="" class="form-control " type="text" id="marital" name="marital">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">

                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Dân tộc</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.ethnicity" class="form-control " type="text" id="ethnicity" name="ethnicity">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.ethnicity
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Tôn giáo</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.religion" class="form-control " type="text" id="religion" name="religion">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.religion
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Quốc tịch</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.nationality" class="form-control " type="text" id="nationality" name="nationality">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.nationality
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-2">
                                        <h6 class="mb-0">Trình độ học vấn</h6>
                                    </div>
                                    <div class="col-md-10 col-sm-12 edit">
                                        <input value="@data.educationalLevel" class="form-control " type="text" id="educationalLevel" name="educationalLevel">
                                    </div>
                                    <div class="col-sm-10 text-secondary show">
                                        @data.educationalLevel
                                    </div>
                                </div>
                                <hr>
                                <div class="button-group">
                                    <button type="button" onclick="SaveInfo()" class="btn-shadow btn-save btn btn-info btn-success ">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                            <i class="fa fa-save"></i>
                                        </span>
                                        Lưu
                                    </button>
                                    <button type="button" onclick="Cancel()" style="margin-left:20px" class="btn-shadow btn-cancel btn btn-info btn-danger">
                                        <span class="btn-icon-wrapper pr-2 opacity-7">
                                           
                                           <i class="fa fa-close"></i>
                                        </span>
                                        Hủy
                                    </button>
                                </div>
                                 
                               </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h4 class="mb-4 ">Thông tin liên hệ</h4>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"><i class="fa-solid fa-phone" style="color: #23b110;"></i>  &nbsp; Số điện thoại </h6>

                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @user.PhoneNumber
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"> <i class="fa-solid fa-phone-volume" style="color: #23b110;"></i>&nbsp; Số điện thoại khác ( Nếu có) </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.otherNum
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"> <i class="fa-regular fa-envelope" style="color: #cf290c;"></i>&nbsp; Email </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @user.Email
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"> <i class="fa-solid fa-house-user" style="color: #db380f;"></i>&nbsp; Địa chỉ liên hệ khẩn cấp </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.address
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0">  <i class="fa-brands fa-square-facebook" style="color: #0c3273;"></i>&nbsp; Zalo </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.zalo
                                    </div>
                                </div>
                                <hr>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="card mb-3">
                    <div class="card-body">
                        <div class="row">
                            <div class="col-sm-3">
                                <h4 class="mb-4 ">Thông tin cá nhân</h4>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"><i class="fa-regular fa-address-card" style="color: #175ed9;"></i>  &nbsp;Số CCCD/CMND </h6>
                                    </div>
                                    <div class="col-sm-6 text-secondary">
                                        @data.CCCD
                                    </div>
                                    <div class="col-sm-2 text-secondary">
                                        <a href=""> Xem CCCD</a>
                                    </div>

                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"> <i class="fa-solid fa-passport" style="color: #0544a8;"></i>&nbsp; Số hộ chiếu </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.passPortNum
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"> <i class="fa-solid fa-building-columns" style="color: #1f60d1;"></i>&nbsp; Ngân hàng </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.codeBank
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0"><i class="fa-solid fa-user" style="color: #3ec007;"></i>&nbsp; Tên chủ thẻ </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        Dương Quốc Tiễn
                                    </div>
                                </div>
                                <hr>
                                <div class="row">
                                    <div class="col-sm-4">
                                        <h6 class="mb-0">  <i class="fa-solid fa-money-bill-transfer" style="color: #e72618;"></i>&nbsp; Số tài khoản  </h6>
                                    </div>
                                    <div class="col-sm-8 text-secondary">
                                        @data.numBank
                                    </div>
                                </div>
                                <hr>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @{
            var stt = 0;
        }
        @foreach (var job in jobs)
        {
            stt++;
    <div class="row">
        <div class="col-md-12">
            <div class="card mb-3">
                <div class="card-body">
                    <div class="row">
                        <div class="col-sm-3">
                            <h4 class="mb-4" style="color:orangered">Công việc @stt </h4>
                        </div>

                    </div>
                    <div class="row">
                        <div class="col-lg-12">
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0">Địa điểm làm việc</h6>

                                </div>
                                <div class="col-sm-10 text-secondary">
                                    @job.NameLocation
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0"> Địa chỉ </h6>
                                </div>
                                <div class="col-sm-10 text-secondary">
                                    @job.JobAddress
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0"> Chức vụ  </h6>
                                </div>
                                <div class="col-sm-10 text-secondary">
                                    @job.Position
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0"> Mô tả công việc  </h6>
                                </div>
                                <div class="col-sm-10 text-secondary">
                                    @job.JobDescription
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0">Ngày vào làm</h6>
                                </div>
                                <div class="col-sm-10 text-secondary">
                                
                                </div>
                            </div>
                            <hr>
                            <div class="row">
                                <div class="col-sm-2">
                                    <h6 class="mb-0"> Ca làm </h6>
                                </div>
                                <div class="col-sm-10 text-secondary">
                                    @job.TimeInOut
                                </div>
                            </div>
                            <hr>

                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>
}

    </div>
<script>
    function EditInfo() {
        $(".info .edit").css("display", "block");
        $(".info .show").css("display", "none");
        $(".info .btn-cancel").css("display", "block");
        $(".info .btn-save").css("display", "block");
    }
    function Cancel() {
        $(".info .edit").css("display", "none");
        $(".info .show").css("display", "block");
        $(".info .btn-cancel").css("display", "none");
        $(".info .btn-save").css("display", "none");
    }
    function SaveInfo() {
        var formData = {
            Id: $('#Id').val(),
            birtDate: $('#birtDate').val(),
            placeOfBirt: $('#placeOfBirt').val(),
            placeOfOrigin: $('#placeOfOrigin').val(),
            curResidence: $('#curResidence').val(),
            resident: $('#resident').val(),
            temResidence: $('#temResidence').val(),
            gender: $('#gender').val(),
            taxCode: $('#taxCode').val(),
            marital: $('#marital').val(),
            ethnicity: $('#ethnicity').val(),
            religion: $('#religion').val(),
            nationality: $('#nationality').val(),
            educationalLevel: $('#educationalLevel').val(),
        }
        Action('_SaveInfo','POST',formData)
    }
</script>*@